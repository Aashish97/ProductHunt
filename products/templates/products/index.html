{% extends 'base.html' %} {% block content %} {% for product in products.all %}

<div class="row pt-4">
  <div
    class="col-2"
    onclick="window.location='{% url 'detail' product.id %}';"
    style="cursor: pointer;"
  >
    <img src="{{ product.icon.url }}" alt="icon" class="img-fluid" />
  </div>

  <div
    class="col-7"
    onclick="window.location='{% url 'detail' product.id %}';"
    style="cursor: pointer;"
  >
    <h2>{{ product.title }}</h2>
    <p>{{ product.body }}</p>
  </div>

  <div class="col-3">
    <a
      href="javascript:{document.getElementById('upvote{{ product.id }}').submit()}"
      ><h1>
        <button class="btn btn-primary btn-lg btn-block">
          Upvote {{ product.votes_total }}
        </button>
      </h1></a
    >
  </div>
</div>

<form
  id="upvote{{ product.id }}"
  method="POST"
  action="{% url 'upvote' product.id %}"
>
  {% csrf_token %}
  <input type="hidden" />
</form>

{% endfor %} {% endblock %}
